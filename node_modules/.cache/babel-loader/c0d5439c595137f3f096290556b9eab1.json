{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, createStaticVNode as _createStaticVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"section\", {\n  class: \"page-name\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"container page-name__wrp\"\n}, [/*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"page-name__title\"\n}, \"shopping cart\")])], -1\n/* HOISTED */\n);\n\nconst _hoisted_2 = {\n  class: \"shop\"\n};\nconst _hoisted_3 = {\n  class: \"container shop__wrp\"\n};\nconst _hoisted_4 = {\n  class: \"shop-cart\"\n};\nconst _hoisted_5 = {\n  class: \"shop-cart__btns\"\n};\n\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"shop-cart__btn btn\"\n}, \"continue shopping\", -1\n/* HOISTED */\n);\n\nconst _hoisted_7 = {\n  class: \"shop-shipping\"\n};\n\nconst _hoisted_8 = /*#__PURE__*/_createStaticVNode(\"<div><h3 class=\\\"shop-shipping__title\\\">shipping address</h3><input type=\\\"text\\\" class=\\\"shop-shipping__input input\\\" required placeholder=\\\"Bangladesh\\\"><input type=\\\"text\\\" class=\\\"shop-shipping__input input\\\" required placeholder=\\\"State\\\"><input type=\\\"text\\\" class=\\\"shop-shipping__input input\\\" required placeholder=\\\"Postcode / Zip\\\"><button class=\\\"shop-shipping__btn btn\\\">get a quote</button></div>\", 1);\n\nconst _hoisted_9 = {\n  class: \"shop-total\"\n};\n\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"shop-total__text\"\n}, [/*#__PURE__*/_createTextVNode(\"sub total \"), /*#__PURE__*/_createElementVNode(\"input\", {\n  class: \"shop-total__text-input\",\n  type: \"text\",\n  value: \"$900\",\n  disabled: \"\"\n})], -1\n/* HOISTED */\n);\n\nconst _hoisted_11 = {\n  class: \"shop-total__title\"\n};\n\nconst _hoisted_12 = /*#__PURE__*/_createTextVNode(\"grand total \");\n\nconst _hoisted_13 = [\"value\"];\n\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"hr\", {\n  class: \"shop-total__line\"\n}, null, -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_CartProducts = _resolveComponent(\"CartProducts\");\n\n  return _openBlock(), _createElementBlock(\"main\", null, [_hoisted_1, _createElementVNode(\"section\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_CartProducts, {\n    products: $data.cart,\n    onRemoveCount: $options.removeCount,\n    onAddCount: $options.addCount,\n    onDeleteItem: $options.deleteItem\n  }, null, 8\n  /* PROPS */\n  , [\"products\", \"onRemoveCount\", \"onAddCount\", \"onDeleteItem\"]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"button\", {\n    class: \"shop-cart__btn btn clear\",\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.$root.clear && _ctx.$root.clear(...args))\n  }, \"clear shopping cart\"), _hoisted_6])]), _createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _createElementVNode(\"h3\", _hoisted_11, [_hoisted_12, _createElementVNode(\"input\", {\n    id: \"grand_total\",\n    class: \"shop-total__title-input\",\n    type: \"text\",\n    value: $data.cartPrice,\n    disabled: \"\"\n  }, null, 8\n  /* PROPS */\n  , _hoisted_13)]), _hoisted_14, _createElementVNode(\"button\", {\n    class: \"shop-total__btn btn\",\n    onClick: _cache[1] || (_cache[1] = (...args) => _ctx.render && _ctx.render(...args))\n  }, \"proceed to checkout\")])])])])]);\n}","map":{"version":3,"mappings":";;gCAEEA,oBAIU,SAJV,EAIU;EAJDC,KAAK,EAAC;AAIL,CAJV,EAA0B,cACzBD,oBAEM,KAFN,EAEM;EAFDC,KAAK,EAAC;AAEL,CAFN,EAAqC,cACpCD,oBAA+C,IAA/C,EAA+C;EAA3CC,KAAK,EAAC;AAAqC,CAA/C,EAA6B,eAA7B,CADoC,CAArC,CADyB,CAA1B;;AAAA;;;EAKSA,KAAK,EAAC;;;EACTA,KAAK,EAAC;;;EACLA,KAAK,EAAC;;;EAELA,KAAK,EAAC;;;gCAEVD,oBAA6D,QAA7D,EAA6D;EAArDC,KAAK,EAAC;AAA+C,CAA7D,EAAmC,mBAAnC,EAAoD;AAAA;AAApD;;;EAGGA,KAAK,EAAC;;;;;;EAQLA,KAAK,EAAC;;;iCACVD,oBAC6E,GAD7E,EAC6E;EAD1EC,KAAK,EAAC;AACoE,CAD7E,EAA2B,+BAAC,aAAD,eAC1BD,oBAAwE,OAAxE,EAAwE;EAAjEC,KAAK,EAAC,wBAA2D;EAAlCC,IAAI,EAAC,MAA6B;EAAtBC,KAAK,EAAC,MAAgB;EAATC,QAAQ,EAAR;AAAS,CAAxE,CAD0B,CAA3B;;AAAA;;;EAEIH,KAAK,EAAC;;;kDAAoB;;;;iCAG9BD,oBAA6B,IAA7B,EAA6B;EAAzBC,KAAK,EAAC;AAAmB,CAA7B,EAA4B,IAA5B,EAA4B;AAAA;AAA5B;;;;;uBA7BLI,oBAmCO,MAnCP,EAmCO,IAnCP,EAmCO,CAlCNC,UAkCM,EA7BNN,oBA4BU,SA5BV,cA4BU,CA3BTA,oBA0BM,KA1BN,cA0BM,CAzBLA,oBAMM,KANN,cAMM,CALLO,aAAwHC,uBAAxH,EAAwH;IAAzGC,QAAQ,EAAEC,UAA+F;IAApFC,aAAY,EAAEC,oBAAsE;IAApDC,UAAS,EAAED,iBAAyC;IAA1BE,YAAW,EAAEF;EAAa,CAAxH;;EAAA,8DAKK,EAJLZ,oBAGM,KAHN,cAGM,CAFLA,oBAA8F,QAA9F,EAA8F;IAAtFC,KAAK,EAAC,0BAAgF;IAAhDc,OAAK,yCAAEC,WAAMC,KAAN,eAAMA,KAAN,CAAW,OAAX,CAAF;EAA2C,CAA9F,EAAkE,qBAAlE,CAEK,EADLC,UACK,CAHN,CAIK,CANN,CAyBK,EAlBLlB,oBAiBM,KAjBN,cAiBM,CAhBLmB,UAgBK,EATLnB,oBAQM,KARN,cAQM,CAPLoB,WAOK,EALLpB,oBAEK,IAFL,eAEK,cADJA,oBAAgG,OAAhG,EAAgG;IAAzFqB,EAAE,EAAC,aAAsF;IAAxEpB,KAAK,EAAC,yBAAkE;IAAxCC,IAAI,EAAC,MAAmC;IAA3BC,KAAK,EAAEO,eAAoB;IAATN,QAAQ,EAAR;EAAS,CAAhG;;EAAA,cACI,CAFL,CAKK,EAFLkB,WAEK,EADLtB,oBAAoF,QAApF,EAAoF;IAA5EC,KAAK,EAAC,qBAAsE;IAA3Cc,OAAK,yCAAEC,mCAAF;EAAsC,CAApF,EAAwD,qBAAxD,CACK,CARN,CASK,CAjBN,CAkBK,CA1BN,CA2BS,CA5BV,CA6BM,CAnCP","names":["_createElementVNode","class","type","value","disabled","_createElementBlock","_hoisted_1","_createVNode","_component_CartProducts","products","$data","onRemoveCount","$options","onAddCount","onDeleteItem","onClick","_ctx","clear","_hoisted_6","_hoisted_8","_hoisted_10","id","_hoisted_14"],"sourceRoot":"","sources":["C:\\Project\\Geekbrains\\prof-layout\\src\\components\\ShoppingCart.vue"],"sourcesContent":["<template>\r\n\t<main>\r\n\t\t<section class=\"page-name\">\r\n\t\t\t<div class=\"container page-name__wrp\">\r\n\t\t\t\t<h2 class=\"page-name__title\">shopping cart</h2>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t\t<section class=\"shop\">\r\n\t\t\t<div class=\"container shop__wrp\">\r\n\t\t\t\t<div class=\"shop-cart\">\r\n\t\t\t\t\t<CartProducts :products=\"cart\" v-on:remove-count=\"removeCount\" v-on:add-count=\"addCount\" v-on:delete-item=\"deleteItem\"/>\r\n\t\t\t\t\t<div class=\"shop-cart__btns\">\r\n\t\t\t\t\t\t<button class=\"shop-cart__btn btn clear\" v-on:click=\"$root.clear\">clear shopping cart</button>\r\n\t\t\t\t\t\t<button class=\"shop-cart__btn btn\">continue shopping</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"shop-shipping\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h3 class=\"shop-shipping__title\">shipping address</h3>\r\n\t\t\t\t\t\t<input type=\"text\" class=\"shop-shipping__input input\" required placeholder=\"Bangladesh\">\r\n\t\t\t\t\t\t<input type=\"text\" class=\"shop-shipping__input input\" required placeholder=\"State\">\r\n\t\t\t\t\t\t<input type=\"text\" class=\"shop-shipping__input input\" required placeholder=\"Postcode / Zip\">\r\n\t\t\t\t\t\t<button class=\"shop-shipping__btn btn\">get a quote</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"shop-total\">\r\n\t\t\t\t\t\t<p class=\"shop-total__text\">sub total\r\n\t\t\t\t\t\t\t<input class=\"shop-total__text-input\" type=\"text\" value=\"$900\" disabled></p>\r\n\t\t\t\t\t\t<h3 class=\"shop-total__title\">grand total\r\n\t\t\t\t\t\t\t<input id=\"grand_total\" class=\"shop-total__title-input\" type=\"text\" :value=\"cartPrice\" disabled>\r\n\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t<hr class=\"shop-total__line\">\r\n\t\t\t\t\t\t<button class=\"shop-total__btn btn\" v-on:click=\"render\">proceed to checkout</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t</main>\r\n</template>\r\n\r\n<script>\r\n\timport CartProducts from \"./CartProducts\";\r\n\t\r\n\texport default {\r\n\t\tname: \"ShoppingCart\",\r\n\t\tcomponents: {\r\n\t\t\tCartProducts\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcartUrl: '/api/cart',\r\n\t\t\t\tcart: [],\r\n\t\t\t\tcartPrice: 0,\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tremoveCount(product) {\r\n\t\t\t\tthis.$root.putJson(`${this.$root.api + this.cartUrl + \"/\" + product.id_product}`, {quantity: -1})\r\n\t\t\t\t\t.then(data => {\r\n\t\t\t\t\t\tif(data.result === 1){\r\n\t\t\t\t\t\t\tif (product.quantity>0) {\r\n\t\t\t\t\t\t\t\tproduct.quantity--;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn product.quantity;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\tthis.totalPrice();\r\n\t\t\t},\r\n\t\t\taddCount(product) {\r\n\t\t\t\tthis.$root.putJson(`${this.$root.api + this.cartUrl + \"/\" + product.id_product}`, {quantity: 1})\r\n\t\t\t\t\t.then(data => {\r\n\t\t\t\t\t\tif(data.result === 1){\r\n\t\t\t\t\t\t\t\tproduct.quantity++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\tthis.totalPrice();\r\n\t\t\t},\r\n\t\t\tdeleteItem(product) {\r\n\t\t\t\tthis.$root.deleteJson(`http://localhost:3000/api/cart/${product.id_product}`)\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tthis.cart = this.cart.filter(item => item.id_product !== product.id_product)\r\n\t\t\t\t\t})\r\n\t\t\t\tthis.totalPrice();\r\n\t\t\t},\r\n\t\t\tclear() {\r\n\t\t\t\t// let collection = document.querySelectorAll('.shop-cart__item');\r\n\t\t\t\t// for (let elem of collection) {\r\n\t\t\t\t// \telem.remove();\r\n\t\t\t\t// }\r\n\t\t\t\t// this.cart = [];\r\n\t\t\t},\r\n\t\t\ttotalPrice() {\r\n\t\t\t\tlet sum = 0;\r\n\t\t\t\tthis.cart.map(product => {\r\n\t\t\t\t\treturn sum += product.price * product.quantity;\r\n\t\t\t\t});\r\n\t\t\t\tthis.cartPrice = sum;\r\n\t\t\t},\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.$root.getJson(`${this.$root.api + this.cartUrl}`)\r\n\t\t\t\t.then(data => {\r\n\t\t\t\t\tfor (let el of data.contents) {\r\n\t\t\t\t\t\tthis.cart.push(el);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.totalPrice();\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n</script>"]},"metadata":{},"sourceType":"module"}