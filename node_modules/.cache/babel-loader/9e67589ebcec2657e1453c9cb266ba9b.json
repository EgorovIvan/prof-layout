{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  key: 0\n};\nconst _hoisted_2 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_HeaderComponent = _resolveComponent(\"HeaderComponent\");\n\n  const _component_AccessError = _resolveComponent(\"AccessError\");\n\n  const _component_router_view = _resolveComponent(\"router-view\");\n\n  const _component_FooterComponent = _resolveComponent(\"FooterComponent\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_HeaderComponent, {\n    onFilter: $options.filter\n  }, null, 8\n  /* PROPS */\n  , [\"onFilter\"]), $data.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_AccessError)])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createVNode(_component_router_view)])), _createVNode(_component_FooterComponent)], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;6DACCA,aAAuCC,0BAAvC,EAAuC;IAAjBC,QAAM,EAAEC;EAAS,CAAvC,EAAoC,IAApC,EAAoC;EAAA;EAApC,EAAoC,YAApC,GACWC,6BAAXC,oBAEM,KAFN,EAEMC,UAFN,EAEM,CADLN,aAAcO,sBAAd,CACK,CAFN,oBAGAF,oBAEM,KAFN,EAEMG,UAFN,EAEM,CADLR,aAA2BS,sBAA3B,CACK,CAFN,IAGAT,aAAkBU,0BAAlB","names":["_createVNode","_component_HeaderComponent","onFilter","$options","$data","_createElementBlock","_hoisted_1","_component_AccessError","_hoisted_2","_component_router_view","_component_FooterComponent"],"sourceRoot":"","sources":["C:\\Project\\Geekbrains\\prof-layout\\src\\App.vue"],"sourcesContent":["<template>\r\n\t<HeaderComponent v-on:filter=\"filter\"/>\r\n\t<div v-if=\"error\">\r\n\t\t<AccessError/>\r\n\t</div>\r\n\t<div v-else>\r\n\t\t<router-view></router-view>\r\n\t</div>\r\n\t<FooterComponent/>\r\n</template>\r\n\t\r\n\r\n<script>\r\n\timport AccessError from \"@/components/AccessError\";\r\n\timport HeaderComponent from \"@/components/HeaderComponent\"\r\n\timport FooterComponent from \"@/components/FooterComponent\";\r\n\t\r\n\texport default {\r\n\t\tname: \"App\",\r\n\t\tcomponents: {\r\n\t\t\tHeaderComponent,\r\n\t\t\tFooterComponent,\r\n\t\t\tAccessError\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tapi: 'http://localhost:3000',\r\n\t\t\t\tcatalogUrl: '/api/products',\r\n\t\t\t\tcartUrl: '/api/cart',\r\n\t\t\t\tproducts: [],\r\n\t\t\t\tfiltered: [],\r\n\t\t\t\tpresentationProducts: [],\r\n\t\t\t\tcartItems: [],\r\n\t\t\t\terror: false,\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tfilter(userSearch) {\r\n\t\t\t\tconst regexp = new RegExp(userSearch, 'i');\r\n\t\t\t\tthis.filtered = this.products.filter(product => regexp.test(product.product_name));\r\n\t\t\t},\r\n\t\t\tgetJson(url) {\r\n\t\t\t\treturn fetch(url)\r\n\t\t\t\t\t.then(result => result.json())\r\n\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\tthis.error = true;\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tpostJson(url, data){\r\n\t\t\t\treturn fetch(url, {\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbody: JSON.stringify(data)\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(result => result.json())\r\n\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\tconsole.log(`ошибка записи: ${error}`);\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tputJson(url, data){\r\n\t\t\t\treturn fetch(url, {\r\n\t\t\t\t\tmethod: 'PUT',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbody: JSON.stringify(data)\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(result => result.json())\r\n\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\tconsole.log(`ошибка обновления: ${error}`);\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdeleteJson(url){\r\n\t\t\t\treturn fetch(url, {\r\n\t\t\t\t\tmethod: 'DELETE',\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tconsole.log('removed');\r\n\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\tconsole.log(`ошибка удаления: ${err}`);\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.getJson(`${this.api + this.catalogUrl}`)\r\n\t\t\t\t.then(data => {\r\n\t\t\t\t\tfor (let el of data) {\r\n\t\t\t\t\t\tthis.products.push(el);\r\n\t\t\t\t\t\tthis.filtered.push(el);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.presentationProducts = this.products.slice(0, 3)\r\n\t\t\t\t});\r\n\t\t\tthis.getJson(`${this.api + this.cartUrl}`)\r\n\t\t\t\t.then(data => {\r\n\t\t\t\t\tfor (let el of data.contents){\r\n\t\t\t\t\t\tthis.cartItems.push(el);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t},\r\n\t}\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}