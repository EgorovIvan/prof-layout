{"ast":null,"code":"import CatalogProducts from \"./CatalogProducts\";\nexport default {\n  name: \"ShopCatalog\",\n  components: {\n    CatalogProducts // SearchComponent\n\n  },\n\n  data() {\n    return {\n      catalogUrl: '/api/products',\n      cartUrl: '/api/cart',\n      products: [],\n      filtered: [],\n      cartItems: []\n    };\n  },\n\n  methods: {\n    filter(userSearch) {\n      const regexp = new RegExp(userSearch, 'i');\n      this.filtered = this.products.filter(product => regexp.test(product.product_name));\n    },\n\n    addProduct(product) {\n      let find = this.cartItems.find(item => product.id_product === item.id_product);\n\n      if (find) {\n        this.$root.putJson(`${this.$root.api + this.cartUrl + \"/\" + find.id_product}`, {\n          quantity: 1\n        }).then(data => {\n          if (data.result === 1) {\n            find.quantity++;\n          }\n        });\n      } else {\n        const prod = Object.assign({\n          quantity: 1\n        }, product);\n        this.$root.postJson(`http://localhost:3000/api/cart`, prod).then(data => {\n          if (data.result === 1) {\n            this.cartItems.push(prod);\n          }\n        });\n      }\n    }\n\n  },\n\n  mounted() {\n    this.$root.getJson(`${this.$root.api + this.catalogUrl}`).then(data => {\n      for (let el of data) {\n        this.products.push(el);\n        this.filtered.push(el);\n      }\n    });\n    this.$root.getJson(`${this.$root.api + this.cartUrl}`).then(data => {\n      for (let el of data.contents) {\n        this.cartItems.push(el);\n      }\n    });\n  }\n\n};","map":{"version":3,"mappings":"AAuJC,OAAOA,eAAP,MAA4B,mBAA5B;AAEA,eAAe;EACdC,IAAI,EAAE,aADQ;EAEdC,UAAU,EAAE;IACXF,eADW,CAEX;;EAFW,CAFE;;EAMdG,IAAI,GAAG;IACN,OAAO;MACNC,UAAU,EAAE,eADN;MAENC,OAAO,EAAE,WAFH;MAGNC,QAAQ,EAAE,EAHJ;MAINC,QAAQ,EAAE,EAJJ;MAKNC,SAAS,EAAE;IALL,CAAP;EAOA,CAda;;EAedC,OAAO,EAAE;IACRC,MAAM,CAACC,UAAD,EAAa;MAClB,MAAMC,MAAK,GAAI,IAAIC,MAAJ,CAAWF,UAAX,EAAuB,GAAvB,CAAf;MACA,KAAKJ,QAAL,GAAgB,KAAKD,QAAL,CAAcI,MAAd,CAAqBI,OAAM,IAAKF,MAAM,CAACG,IAAP,CAAYD,OAAO,CAACE,YAApB,CAAhC,CAAhB;IACA,CAJO;;IAKRC,UAAU,CAACH,OAAD,EAAU;MACnB,IAAII,IAAG,GAAI,KAAKV,SAAL,CAAeU,IAAf,CAAqBC,IAAG,IAAKL,OAAO,CAACM,UAAR,KAAuBD,IAAI,CAACC,UAAzD,CAAX;;MACA,IAAIF,IAAJ,EAAU;QACT,KAAKG,KAAL,CAAWC,OAAX,CAAoB,GAAE,KAAKD,KAAL,CAAWE,GAAX,GAAiB,KAAKlB,OAAtB,GAAgC,GAAhC,GAAsCa,IAAI,CAACE,UAAW,EAA5E,EAA+E;UAACI,QAAQ,EAAE;QAAX,CAA/E,EACEC,IADF,CACOtB,IAAG,IAAK;UACb,IAAGA,IAAI,CAACuB,MAAL,KAAgB,CAAnB,EAAqB;YACpBR,IAAI,CAACM,QAAL;UACD;QACA,CALF;MAMD,CAPA,MAOO;QACN,MAAMG,IAAG,GAAIC,MAAM,CAACC,MAAP,CAAc;UAACL,QAAQ,EAAE;QAAX,CAAd,EAA6BV,OAA7B,CAAb;QACA,KAAKO,KAAL,CAAWS,QAAX,CAAqB,gCAArB,EAAsDH,IAAtD,EACEF,IADF,CACOtB,IAAG,IAAK;UACb,IAAIA,IAAI,CAACuB,MAAL,KAAgB,CAApB,EAAuB;YACtB,KAAKlB,SAAL,CAAeuB,IAAf,CAAoBJ,IAApB;UACD;QACA,CALF;MAMD;IACA;;EAvBO,CAfK;;EAwCdK,OAAO,GAAG;IACT,KAAKX,KAAL,CAAWY,OAAX,CAAoB,GAAE,KAAKZ,KAAL,CAAWE,GAAX,GAAiB,KAAKnB,UAAW,EAAvD,EACEqB,IADF,CACOtB,IAAG,IAAK;MACb,KAAK,IAAI+B,EAAT,IAAe/B,IAAf,EAAqB;QACpB,KAAKG,QAAL,CAAcyB,IAAd,CAAmBG,EAAnB;QACA,KAAK3B,QAAL,CAAcwB,IAAd,CAAmBG,EAAnB;MACD;IACA,CANF;IAOA,KAAKb,KAAL,CAAWY,OAAX,CAAoB,GAAE,KAAKZ,KAAL,CAAWE,GAAX,GAAiB,KAAKlB,OAAQ,EAApD,EACEoB,IADF,CACOtB,IAAG,IAAK;MACb,KAAK,IAAI+B,EAAT,IAAe/B,IAAI,CAACgC,QAApB,EAA6B;QAC5B,KAAK3B,SAAL,CAAeuB,IAAf,CAAoBG,EAApB;MACD;IACA,CALF;EAMA;;AAtDa,CAAf","names":["CatalogProducts","name","components","data","catalogUrl","cartUrl","products","filtered","cartItems","methods","filter","userSearch","regexp","RegExp","product","test","product_name","addProduct","find","item","id_product","$root","putJson","api","quantity","then","result","prod","Object","assign","postJson","push","mounted","getJson","el","contents"],"sourceRoot":"","sources":["C:\\Project\\Geekbrains\\prof-layout\\src\\components\\ShopCatalog.vue"],"sourcesContent":["<template>\n\t<main>\n\t\t<section class=\"page-name\">\n\t\t\t<div class=\"container page-name__wrp\">\n\t\t\t\t<h2 class=\"page-name__title\">new arrivals</h2>\n\t\t\t\t<p class=\"page-name__breadcrumbs\">home / men /\n\t\t\t\t\t<span class=\"page-name__breadcrumbs-active\">new arrivals</span>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</section>\n\t\t<section class=\"filter\">\n\t\t\t<div class=\"container filter__wrp\">\n\t\t\t\t<div class=\"filter__btn-menu\">\n\t\t\t\t\t<h2 class=\"filter__title open-filter\">Filter</h2>\n\t\t\t\t\t<button class=\"filter__burger open-filter\">\n\t\t\t\t\t\t<svg width=\"15\" height=\"10\" viewBox=\"0 0 15 10\">\n\t\t\t\t\t\t\t<path d=\"M0.833333 10H4.16667C4.625 10 5 9.625 5 9.16667C5 8.70833 4.625 8.33333 4.16667\n                    8.33333H0.833333C0.375 8.33333 0 8.70833 0 9.16667C0 9.625 0.375 10 0.833333 10ZM0 0.833333C0 1.29167\n                    0.375 1.66667 0.833333 1.66667H14.1667C14.625 1.66667 15 1.29167 15 0.833333C15 0.375 14.625 0 14.1667\n                    0H0.833333C0.375 0 0 0.375 0 0.833333ZM0.833333 5.83333H9.16667C9.625 5.83333 10 5.45833 10 5C10\n                    4.54167 9.625 4.16667 9.16667 4.16667H0.833333C0.375 4.16667 0 4.54167 0 5C0 5.45833 0.375 5.83333\n                    0.833333 5.83333Z\"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"filter__menu\">\n\t\t\t\t\t<div class=\"filter__btn-menu\">\n\t\t\t\t\t\t<h2 class=\"filter__title color-active close-filter\">Filter</h2>\n\t\t\t\t\t\t<button class=\"filter__burger color-active close-filter\">\n\t\t\t\t\t\t\t<svg width=\"15\" height=\"10\" viewBox=\"0 0 15 10\">\n\t\t\t\t\t\t\t\t<path d=\"M0.833333 10H4.16667C4.625 10 5 9.625 5 9.16667C5 8.70833 4.625 8.33333 4.16667\n                        8.33333H0.833333C0.375 8.33333 0 8.70833 0 9.16667C0 9.625 0.375 10 0.833333 10ZM0 0.833333C0 1.29167\n                        0.375 1.66667 0.833333 1.66667H14.1667C14.625 1.66667 15 1.29167 15 0.833333C15 0.375 14.625 0 14.1667\n                        0H0.833333C0.375 0 0 0.375 0 0.833333ZM0.833333 5.83333H9.16667C9.625 5.83333 10 5.45833 10 5C10\n                        4.54167 9.625 4.16667 9.16667 4.16667H0.833333C0.375 4.16667 0 4.54167 0 5C0 5.45833 0.375 5.83333\n                        0.833333 5.83333Z\"/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<ul class=\"filter__menu-list\">\n\t\t\t\t\t\t<li class=\"filter__menu-item\">\n\t\t\t\t\t\t\t<h2 class=\"filter__menu-title\">\n\t\t\t\t\t\t\t\t<img class=\"filter__menu-img\" src=\"../img/pillar.png\" alt=\"pillar\"> category\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t<hr class=\"filter__hr-title\">\n\t\t\t\t\t\t\t<ul class=\"filter__submenu-list\">\n\t\t\t\t\t\t\t\t<li class=\"filter__submenu-item\">Accessories</li>\n\t\t\t\t\t\t\t\t<li class=\"filter__submenu-item\">Bags</li>\n\t\t\t\t\t\t\t\t<li class=\"filter__submenu-item\">Denim</li>\n\t\t\t\t\t\t\t\t<li class=\"filter__submenu-item\">Hoodies & Sweatshirts</li>\n\t\t\t\t\t\t\t\t<li class=\"filter__submenu-item\">Jackets & Coats</li>\n\t\t\t\t\t\t\t\t<li class=\"filter__submenu-item\">Polos</li>\n\t\t\t\t\t\t\t\t<li class=\"filter__submenu-item\">Shirts</li>\n\t\t\t\t\t\t\t\t<li class=\"filter__submenu-item\">Shoes</li>\n\t\t\t\t\t\t\t\t<li class=\"filter__submenu-item\">Sweaters & Knits</li>\n\t\t\t\t\t\t\t\t<li class=\"filter__submenu-item\">T-Shirts</li>\n\t\t\t\t\t\t\t\t<li class=\"filter__submenu-item\">Tanks</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class=\"filter__menu-item\">\n\t\t\t\t\t\t\t<h2 class=\"filter__menu-title\">\n\t\t\t\t\t\t\t\t<img class=\"filter__menu-img\" src=\"../img/pillar.png\" alt=\"pillar\">brand\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t<hr class=\"filter__hr-title\">\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class=\"filter__menu-item\">\n\t\t\t\t\t\t\t<h2 class=\"filter__menu-title\">\n\t\t\t\t\t\t\t\t<img class=\"filter__menu-img\" src=\"../img/pillar.png\" alt=\"pillar\">designer\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t<hr class=\"filter__hr-title\">\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class=\"filter__select-list\">\n\t\t\t\t\t<select class=\"filter__select btn\" aria-label=\"Default select example\">\n\t\t\t\t\t\t<option selected>trending now</option>\n\t\t\t\t\t\t<option value=\"1\">One</option>\n\t\t\t\t\t\t<option value=\"2\">Two</option>\n\t\t\t\t\t\t<option value=\"3\">Three</option>\n\t\t\t\t\t</select>\n\t\t\t\t\t<select class=\"filter__select\" aria-label=\"Default select example\">\n\t\t\t\t\t\t<option selected>size</option>\n\t\t\t\t\t\t<option value=\"xs\">xs</option>\n\t\t\t\t\t\t<option value=\"s\">s</option>\n\t\t\t\t\t\t<option value=\"m\">m</option>\n\t\t\t\t\t\t<option value=\"l\">l</option>\n\t\t\t\t\t</select>\n\t\t\t\t\t<select class=\"filter__select btn\" aria-label=\"Default select example\">\n\t\t\t\t\t\t<option selected>price</option>\n\t\t\t\t\t\t<option value=\"1\">One</option>\n\t\t\t\t\t\t<option value=\"2\">Two</option>\n\t\t\t\t\t\t<option value=\"3\">Three</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</section>\n\t\t<section class=\"catalog\">\n\t\t\t<div class=\"container catalog__wrp\">\n\t\t\t\t<h2 class=\"visually-hidden\">sales</h2>\n\t\t\t\t<CatalogProducts :products=\"filtered\" v-on:add-product=\"addProduct\"/>\n\t\t\t\t<div class=\"catalog__pagination\">\n\t\t\t\t\t<button class=\"catalog__prev arrow\">\n\t\t\t\t\t\t<svg class=\"btn-prev\" width=\"8\" height=\"14\" viewBox=\"0 0 13 23\">\n\t\t\t\t\t\t\t<path d=\"M12.6998 3.7499L4.9498 11.4999L12.6998 19.2499L11.1498 22.3499L0.299805 11.4999L11.1498\n                0.649902L12.6998 3.7499Z\"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\t\t\t\t\t<a class=\"catalog__pagination-number\" href=\"#\">1</a>\n\t\t\t\t\t<a class=\"catalog__pagination-number\" href=\"#\">2</a>\n\t\t\t\t\t<a class=\"catalog__pagination-number\" href=\"#\">3</a>\n\t\t\t\t\t<a class=\"catalog__pagination-number\" href=\"#\">4</a>\n\t\t\t\t\t<a class=\"catalog__pagination-number\" href=\"#\">5</a>\n\t\t\t\t\t<a class=\"catalog__pagination-number\" href=\"#\">6.....20</a>\n\t\t\t\t\t<button class=\"catalog__next arrow\">\n\t\t\t\t\t\t<svg class=\"btn-next\" width=\"8\" height=\"14\" viewBox=\"0 0 13 23\">\n\t\t\t\t\t\t\t<path d=\"M0.299805 19.2499L8.0498 11.4999L0.299805 3.7499L1.8498 0.649902L12.6998 11.4999L1.8498\n                22.3499L0.299805 19.2499Z\"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</section>\n\t\t<div class=\"info\">\n\t\t\t<div class=\"container\">\n\t\t\t\t<ul class=\"info__list\">\n\t\t\t\t\t<li class=\"info__item\">\n\t\t\t\t\t\t<img class=\"info__img\" src=\"img/delivery.svg\" alt=\"delivery\">\n\t\t\t\t\t\t<h3 class=\"info__title\">Free Delivery</h3>\n\t\t\t\t\t\t<p class=\"info__text\">Worldwide delivery on all.\n\t\t\t\t\t\t\tAuthorit tively morph <br> next-generation innov tion with extensive models.</p>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"info__item\">\n\t\t\t\t\t\t<img class=\"info__img\" src=\"img/sales-discounts.svg\" alt=\"sales-discounts\">\n\t\t\t\t\t\t<h3 class=\"info__title\">Sales & discounts</h3>\n\t\t\t\t\t\t<p class=\"info__text\">Worldwide delivery on all.\n\t\t\t\t\t\t\tAuthorit tively morph <br> next-generation innov tion with extensive models.</p>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"info__item\">\n\t\t\t\t\t\t<img class=\"info__img\" src=\"img/assurance.svg\" alt=\"assurance\">\n\t\t\t\t\t\t<h3 class=\"info__title\">Quality assurance</h3>\n\t\t\t\t\t\t<p class=\"info__text\">Worldwide delivery on all.\n\t\t\t\t\t\t\tAuthorit tively morph <br> next-generation innov tion with extensive models.</p>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t</main>\n</template>\n\n<script>\n\timport CatalogProducts from \"./CatalogProducts\";\n\t\n\texport default {\n\t\tname: \"ShopCatalog\",\n\t\tcomponents: {\n\t\t\tCatalogProducts,\n\t\t\t// SearchComponent\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tcatalogUrl: '/api/products',\n\t\t\t\tcartUrl: '/api/cart',\n\t\t\t\tproducts: [],\n\t\t\t\tfiltered: [],\n\t\t\t\tcartItems: []\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tfilter(userSearch) {\n\t\t\t\tconst regexp = new RegExp(userSearch, 'i');\n\t\t\t\tthis.filtered = this.products.filter(product => regexp.test(product.product_name));\n\t\t\t},\n\t\t\taddProduct(product) {\n\t\t\t\tlet find = this.cartItems.find((item => product.id_product === item.id_product))\n\t\t\t\tif (find) {\n\t\t\t\t\tthis.$root.putJson(`${this.$root.api + this.cartUrl + \"/\" + find.id_product}`, {quantity: 1})\n\t\t\t\t\t\t.then(data => {\n\t\t\t\t\t\t\tif(data.result === 1){\n\t\t\t\t\t\t\t\tfind.quantity++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tconst prod = Object.assign({quantity: 1}, product);\n\t\t\t\t\tthis.$root.postJson(`http://localhost:3000/api/cart`, prod)\n\t\t\t\t\t\t.then(data => {\n\t\t\t\t\t\t\tif (data.result === 1) {\n\t\t\t\t\t\t\t\tthis.cartItems.push(prod)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\tmounted() {\n\t\t\tthis.$root.getJson(`${this.$root.api + this.catalogUrl}`)\n\t\t\t\t.then(data => {\n\t\t\t\t\tfor (let el of data) {\n\t\t\t\t\t\tthis.products.push(el);\n\t\t\t\t\t\tthis.filtered.push(el);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tthis.$root.getJson(`${this.$root.api + this.cartUrl}`)\n\t\t\t\t.then(data => {\n\t\t\t\t\tfor (let el of data.contents){\n\t\t\t\t\t\tthis.cartItems.push(el);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\t}\n</script>"]},"metadata":{},"sourceType":"module"}