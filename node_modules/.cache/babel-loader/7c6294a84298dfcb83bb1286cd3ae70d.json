{"ast":null,"code":"import CatalogProducts from \"./CatalogProducts\";\nexport default {\n  name: \"Home\",\n  components: {\n    CatalogProducts\n  },\n  methods: {\n    addProduct(product) {\n      let find = this.$root.cartItems.find(item => product.id_product === item.id_product);\n\n      if (find) {\n        this.$root.putJson(`${this.api + this.$root.cartUrl + \"/\" + find.id_product}`, {\n          quantity: 1\n        }).then(data => {\n          if (data.result === 1) {\n            find.quantity++;\n          }\n        });\n      } else {\n        const prod = Object.assign({\n          quantity: 1\n        }, product);\n        this.$root.postJson(`${this.api + this.$root.cartUrl}`, prod).then(data => {\n          if (data.result === 1) {\n            this.$root.cartItems.push(prod);\n          }\n        });\n      }\n    }\n\n  },\n\n  mounted() {}\n\n};","map":{"version":3,"mappings":"AAKC,OAAOA,eAAP,MAA4B,mBAA5B;AAEA,eAAe;EACdC,IAAI,EAAE,MADQ;EAEdC,UAAU,EAAE;IACXF;EADW,CAFE;EAKdG,OAAO,EAAE;IACRC,UAAU,CAACC,OAAD,EAAU;MACnB,IAAIC,IAAG,GAAI,KAAKC,KAAL,CAAWC,SAAX,CAAqBF,IAArB,CAA2BG,IAAG,IAAKJ,OAAO,CAACK,UAAR,KAAuBD,IAAI,CAACC,UAA/D,CAAX;;MACA,IAAIJ,IAAJ,EAAU;QACT,KAAKC,KAAL,CAAWI,OAAX,CAAoB,GAAE,KAAKC,GAAL,GAAW,KAAKL,KAAL,CAAWM,OAAtB,GAAgC,GAAhC,GAAsCP,IAAI,CAACI,UAAW,EAA5E,EAA+E;UAACI,QAAQ,EAAE;QAAX,CAA/E,EACEC,IADF,CACOC,IAAG,IAAK;UACb,IAAGA,IAAI,CAACC,MAAL,KAAgB,CAAnB,EAAqB;YACpBX,IAAI,CAACQ,QAAL;UACD;QACA,CALF;MAMD,CAPA,MAOO;QACN,MAAMI,IAAG,GAAIC,MAAM,CAACC,MAAP,CAAc;UAACN,QAAQ,EAAE;QAAX,CAAd,EAA6BT,OAA7B,CAAb;QACA,KAAKE,KAAL,CAAWc,QAAX,CAAqB,GAAE,KAAKT,GAAL,GAAW,KAAKL,KAAL,CAAWM,OAAQ,EAArD,EAAwDK,IAAxD,EACEH,IADF,CACOC,IAAG,IAAK;UACb,IAAIA,IAAI,CAACC,MAAL,KAAgB,CAApB,EAAuB;YACtB,KAAKV,KAAL,CAAWC,SAAX,CAAqBc,IAArB,CAA0BJ,IAA1B;UACD;QACA,CALF;MAMD;IACA;;EAnBO,CALK;;EA0BdK,OAAO,GAAG,CAET;;AA5Ba,CAAf","names":["CatalogProducts","name","components","methods","addProduct","product","find","$root","cartItems","item","id_product","putJson","api","cartUrl","quantity","then","data","result","prod","Object","assign","postJson","push","mounted"],"sourceRoot":"","sources":["C:\\Project\\Geekbrains\\prof-layout\\src\\components\\Home.vue"],"sourcesContent":["<template>\n\n</template>\n\n<script>\n\timport CatalogProducts from \"./CatalogProducts\";\n\t\n\texport default {\n\t\tname: \"Home\",\n\t\tcomponents: {\n\t\t\tCatalogProducts,\n\t\t},\n\t\tmethods: {\n\t\t\taddProduct(product) {\n\t\t\t\tlet find = this.$root.cartItems.find((item => product.id_product === item.id_product))\n\t\t\t\tif (find) {\n\t\t\t\t\tthis.$root.putJson(`${this.api + this.$root.cartUrl + \"/\" + find.id_product}`, {quantity: 1})\n\t\t\t\t\t\t.then(data => {\n\t\t\t\t\t\t\tif(data.result === 1){\n\t\t\t\t\t\t\t\tfind.quantity++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tconst prod = Object.assign({quantity: 1}, product);\n\t\t\t\t\tthis.$root.postJson(`${this.api + this.$root.cartUrl}`, prod)\n\t\t\t\t\t\t.then(data => {\n\t\t\t\t\t\t\tif (data.result === 1) {\n\t\t\t\t\t\t\t\tthis.$root.cartItems.push(prod)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\tmounted() {\n\t\t\n\t\t},\n\t}\n</script>"]},"metadata":{},"sourceType":"module"}