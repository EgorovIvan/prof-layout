{"ast":null,"code":"import CartProducts from \"./CartProducts\";\nexport default {\n  name: \"ShoppingCart\",\n  components: {\n    CartProducts\n  },\n\n  data() {\n    return {\n      cartUrl: '/api/cart',\n      cart: [],\n      cartPrice: 0\n    };\n  },\n\n  methods: {\n    removeCount(product) {\n      this.$root.putJson(`${this.$root.api + this.cartUrl + \"/\" + product.id_product}`, {\n        quantity: -1\n      }).then(data => {\n        if (data.result === 1) {\n          if (product.quantity > 0) {\n            product.quantity--;\n          } else {\n            return product.quantity;\n          }\n        }\n      });\n      this.totalPrice();\n    },\n\n    addCount(product) {\n      this.$root.putJson(`${this.$root.api + this.cartUrl + \"/\" + product.id_product}`, {\n        quantity: 1\n      }).then(data => {\n        if (data.result === 1) {\n          product.quantity++;\n        }\n      });\n      this.totalPrice();\n    },\n\n    deleteItem(product) {\n      this.$root.deleteJson(`http://localhost:3000/api/cart/${product.id_product}`).then(() => {\n        this.cart = this.cart.filter(item => item.id_product !== product.id_product);\n      });\n      this.totalPrice();\n    },\n\n    clear() {// let collection = document.querySelectorAll('.shop-cart__item');\n      // for (let elem of collection) {\n      // \telem.remove();\n      // }\n      // this.cart = [];\n    },\n\n    totalPrice() {\n      let sum = 0;\n      this.cart.map(product => {\n        return sum += product.price * product.quantity;\n      });\n      this.cartPrice = sum;\n    }\n\n  },\n\n  mounted() {\n    this.$root.getJson(`${this.$root.api + this.cartUrl}`).then(data => {\n      for (let el of data.contents) {\n        this.cart.push(el);\n      }\n\n      this.totalPrice();\n    });\n  }\n\n};","map":{"version":3,"mappings":"AAwNC,OAAOA,YAAP,MAAyB,gBAAzB;AAEA,eAAe;EACdC,IAAI,EAAE,cADQ;EAEdC,UAAU,EAAE;IACXF;EADW,CAFE;;EAKdG,IAAI,GAAG;IACN,OAAO;MACNC,OAAO,EAAE,WADH;MAENC,IAAI,EAAE,EAFA;MAGNC,SAAS,EAAE;IAHL,CAAP;EAKA,CAXa;;EAYdC,OAAO,EAAE;IACRC,WAAW,CAACC,OAAD,EAAU;MACpB,KAAKC,KAAL,CAAWC,OAAX,CAAoB,GAAE,KAAKD,KAAL,CAAWE,GAAX,GAAiB,KAAKR,OAAtB,GAAgC,GAAhC,GAAsCK,OAAO,CAACI,UAAW,EAA/E,EAAkF;QAACC,QAAQ,EAAE,CAAC;MAAZ,CAAlF,EACEC,IADF,CACOZ,IAAG,IAAK;QACb,IAAGA,IAAI,CAACa,MAAL,KAAgB,CAAnB,EAAqB;UACpB,IAAIP,OAAO,CAACK,QAAR,GAAiB,CAArB,EAAwB;YACvBL,OAAO,CAACK,QAAR;UACD,CAFA,MAEO;YACN,OAAOL,OAAO,CAACK,QAAf;UACD;QACD;MACA,CATF;MAUA,KAAKG,UAAL;IACA,CAbO;;IAcRC,QAAQ,CAACT,OAAD,EAAU;MACjB,KAAKC,KAAL,CAAWC,OAAX,CAAoB,GAAE,KAAKD,KAAL,CAAWE,GAAX,GAAiB,KAAKR,OAAtB,GAAgC,GAAhC,GAAsCK,OAAO,CAACI,UAAW,EAA/E,EAAkF;QAACC,QAAQ,EAAE;MAAX,CAAlF,EACEC,IADF,CACOZ,IAAG,IAAK;QACb,IAAGA,IAAI,CAACa,MAAL,KAAgB,CAAnB,EAAqB;UACnBP,OAAO,CAACK,QAAR;QACF;MACA,CALF;MAMA,KAAKG,UAAL;IACA,CAtBO;;IAuBRE,UAAU,CAACV,OAAD,EAAU;MACnB,KAAKC,KAAL,CAAWU,UAAX,CAAuB,kCAAiCX,OAAO,CAACI,UAAW,EAA3E,EACEE,IADF,CACO,MAAM;QACX,KAAKV,IAAL,GAAY,KAAKA,IAAL,CAAUgB,MAAV,CAAiBC,IAAG,IAAKA,IAAI,CAACT,UAAL,KAAoBJ,OAAO,CAACI,UAArD,CAAZ;MACA,CAHF;MAIA,KAAKI,UAAL;IACA,CA7BO;;IA8BRM,KAAK,GAAG,CACP;MACA;MACA;MACA;MACA;IACA,CApCO;;IAqCRN,UAAU,GAAG;MACZ,IAAIO,GAAE,GAAI,CAAV;MACA,KAAKnB,IAAL,CAAUoB,GAAV,CAAchB,OAAM,IAAK;QACxB,OAAOe,GAAE,IAAKf,OAAO,CAACiB,KAAR,GAAgBjB,OAAO,CAACK,QAAtC;MACA,CAFD;MAGA,KAAKR,SAAL,GAAiBkB,GAAjB;IACA;;EA3CO,CAZK;;EAyDdG,OAAO,GAAG;IACT,KAAKjB,KAAL,CAAWkB,OAAX,CAAoB,GAAE,KAAKlB,KAAL,CAAWE,GAAX,GAAiB,KAAKR,OAAQ,EAApD,EACEW,IADF,CACOZ,IAAG,IAAK;MACb,KAAK,IAAI0B,EAAT,IAAe1B,IAAI,CAAC2B,QAApB,EAA8B;QAC7B,KAAKzB,IAAL,CAAU0B,IAAV,CAAeF,EAAf;MACD;;MACA,KAAKZ,UAAL;IACA,CANF;EAOD;;AAjEc,CAAf","names":["CartProducts","name","components","data","cartUrl","cart","cartPrice","methods","removeCount","product","$root","putJson","api","id_product","quantity","then","result","totalPrice","addCount","deleteItem","deleteJson","filter","item","clear","sum","map","price","mounted","getJson","el","contents","push"],"sourceRoot":"","sources":["C:\\Project\\Geekbrains\\prof-layout\\src\\components\\ShoppingCart.vue"],"sourcesContent":["<template>\n\t<header class=\"header\">\n\t\t<div class=\"container header__wrp\">\n\t\t\t<div class=\"header__list\">\n\t\t\t\t<img class=\"header__logo\" src=\"../img/logo.svg\" alt=\"logo\">\n\t\t\t\t<div id=\"search\" class=\"header__search\">\n\t\t\t\t\t<button id=\"open-search\" class=\"header__search-btn\" type=\"submit\">\n\t\t\t\t\t\t<svg class=\"icon\" width=\"27\" height=\"28\" viewBox=\"0 0 27 28\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t<path d=\"M19.0596 17.6259C20.6713 15.8658 21.6282 13.6048 21.7698 11.2225C21.9113 8.84018 21.2288\n\t\t\t\t6.48173 19.8369 4.54318C18.445 2.60463 16.4285 1.20404 14.126 0.576619C11.8234 -0.0508009 9.3751\n\t\t\t\t0.13316 7.19217 1.09761C5.00923 2.06205 3.22463 3.74825 2.13804 5.87302C1.05145 7.9978 0.729054\n\t\t\t\t10.4318 1.225 12.7661C1.72094 15.1005 3.00501 17.1932 4.86158 18.6927C6.71814 20.1922 9.03413\n\t\t\t\t21.0072 11.4206 21.0009C13.673 21.004 15.8645 20.27 17.6606 18.9109L25.4086 26.7179C25.4941 26.807\n\t\t\t\t25.5965 26.8781 25.7099 26.927C25.8232 26.9759 25.9452 27.0017 26.0686 27.0029C26.1923 27.0033\n\t\t\t\t26.3148 26.9782 26.4283 26.9292C26.5419 26.8801 26.6441 26.8082 26.7286 26.7179C26.9025 26.537\n\t\t\t\t26.9997 26.2958 26.9997 26.0449C26.9997 25.794 26.9025 25.5528 26.7286 25.3719L19.0596\n\t\t\t\t17.6259ZM2.88662 10.5009C2.89946 8.81563 3.41094 7.17187 4.35659 5.77685C5.30224 4.38183\n\t\t\t\t6.63972 3.29801 8.20044 2.662C9.76115 2.02599 11.4752 1.86627 13.1266 2.20298C14.7779\n\t\t\t\t2.53969 16.2926 3.35775 17.4797 4.55404C18.6668 5.75033 19.4732 7.27129 19.7972\n\t\t\t\t8.92519C20.1212 10.5791 19.9483 12.2919 19.3002 13.8476C18.6522 15.4034 17.5581 16.7325\n\t\t\t\t16.1559 17.6674C14.7536 18.6023 13.1059 19.1011 11.4206 19.1009C9.14916 19.0901 6.97482 18.1784\n\t\t\t\t5.37484 16.566C3.77486 14.9537 2.87998 12.7724 2.88662 10.5009Z\"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\t\t\t\t\t<input id=\"search-input\" class=\"header__search-input\" type=\"search\" disabled>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<ul class=\"header__list\">\n\t\t\t\t<li class=\"header__item\">\n\t\t\t\t\t<button id=\"open-btn\" class=\"header__button btn-icon\">\n\t\t\t\t\t\t<svg class=\"icon\" width=\"32\" height=\"23\" viewBox=\"0 0 32 23\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t<path d=\"M0 23V20.31H32V23H0ZM0 12.76V10.07H32V12.76H0ZM0 2.69V0H32V2.69H0Z\"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\t\t\t\t</li>\n\t\t\t\t<li class=\"header__item\">\n\t\t\t\t\t<a href=\"#\" class=\"header__link link-icon\">\n\t\t\t\t\t\t<svg class=\"icon\" width=\"29\" height=\"29\" viewBox=\"0 0 29 29\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t<path d=\"M14.5 19.937C19 19.937 22.656 15.464 22.656 9.968C22.656 4.472 19 0 14.5 0C13.3631\n\t\t\t\t\t\t0.0217413 12.2463 0.303398 11.2351 0.823397C10.2239 1.34339 9.34507 2.08794 8.66602 3C7.12663\n\t\t\t\t\t\t4.99573 6.30819 7.45381 6.34399 9.974C6.34399 15.465 10 19.937 14.5 19.937ZM14.5 1.813C18 1.813\n\t\t\t\t\t\t20.844 5.472 20.844 9.969C20.844 14.466 17.998 18.125 14.5 18.125C11.002 18.125 8.15603 14.465\n\t\t\t\t\t\t8.15503 9.969C8.15403 5.473 11 1.813 14.5 1.813ZM20.844 18.125C20.6036 18.125 20.373 18.2205\n\t\t\t\t\t\t20.203 18.3905C20.033 18.5605 19.9375 18.7911 19.9375 19.0315C19.9375 19.2719 20.033 19.5025\n\t\t\t\t\t\t20.203 19.6725C20.373 19.8425 20.6036 19.938 20.844 19.938C22.526 19.9399 24.1386 20.6088\n\t\t\t\t\t\t25.3279 21.7982C26.5172 22.9875 27.1861 24.6 27.188 26.282C27.1875 26.5221 27.0918 26.7523\n\t\t\t\t\t\t26.922 26.9221C26.7522 27.0918 26.5221 27.1875 26.282 27.188H2.71997C2.47985 27.1875 2.24975\n\t\t\t\t\t\t27.0918 2.07996 26.9221C1.91016 26.7523 1.81449 26.5221 1.81396 26.282C1.81608 24.6001 2.48517\n\t\t\t\t\t\t22.9877 3.67444 21.7985C4.86371 20.6092 6.47608 19.9401 8.15796 19.938C8.39824 19.938 8.62868\n\t\t\t\t\t\t19.8425 8.79858 19.6726C8.96849 19.5027 9.06396 19.2723 9.06396 19.032C9.06396 18.7917 8.96849\n\t\t\t\t\t\t18.5613 8.79858 18.3914C8.62868 18.2215 8.39824 18.126 8.15796 18.126C5.99541 18.1279 3.92201\n\t\t\t\t\t\t18.9875 2.39258 20.5164C0.863144 22.0453 0.00264777 24.1185 0 26.281C0.000794067 27.0019\n\t\t\t\t\t\t0.287502 27.693 0.797241 28.2027C1.30698 28.7125 1.99811 28.9992 2.71899 29H26.282C27.0027\n\t\t\t\t\t\t28.9989 27.6936 28.7121 28.2031 28.2024C28.7126 27.6927 28.9992 27.0017 29 26.281C28.9974\n\t\t\t\t\t\t24.1187 28.1372 22.0457 26.6083 20.5168C25.0793 18.9878 23.0063 18.1276 20.844 18.125Z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t<li class=\"header__item\">\n\t\t\t\t\t<a href=\"#\" class=\"header__link link-icon\">\n\t\t\t\t\t\t<svg class=\"icon\" width=\"32\" height=\"29\" viewBox=\"0 0 32 29\" fill=\"none\">\n\t\t\t\t\t\t\t<path d=\"M26.2009 29C25.5532 28.9738 24.9415 28.6948 24.4972 28.2227C24.0529 27.7506 23.8114\n\t\t\t\t\t\t27.1232 23.8245 26.475C23.8376 25.8269 24.1043 25.2097 24.5673 24.7559C25.0303 24.3022 25.6527\n\t\t\t\t\t\t24.048 26.301 24.048C26.9493 24.048 27.5717 24.3022 28.0347 24.7559C28.4977 25.2097 28.7644\n\t\t\t\t\t\t25.8269 28.7775 26.475C28.7906 27.1232 28.549 27.7506 28.1047 28.2227C27.6604 28.6948 27.0488\n\t\t\t\t\t\t28.9738 26.401 29H26.2009ZM6.75293 26.32C6.75293 25.79 6.91011 25.2718 7.20459 24.8311C7.49907\n\t\t\t\t\t\t24.3904 7.91764 24.0469 8.40735 23.844C8.89705 23.6412 9.43594 23.5881 9.95581 23.6915C10.4757\n\t\t\t\t\t\t23.7949 10.9532 24.0502 11.328 24.425C11.7028 24.7998 11.9581 25.2773 12.0615 25.7972C12.1649\n\t\t\t\t\t\t26.317 12.1118 26.8559 11.9089 27.3456C11.7061 27.8353 11.3626 28.2539 10.9219 28.5483C10.4812\n\t\t\t\t\t\t28.8428 9.96304 29 9.43298 29C9.08087 29.0003 8.73212 28.9311 8.40674 28.7966C8.08136 28.662\n\t\t\t\t\t\t7.78569 28.4646 7.53662 28.2158C7.28755 27.9669 7.09001 27.6713 6.9552 27.3461C6.82039 27.0208\n\t\t\t\t\t\t6.75098 26.6721 6.75098 26.32H6.75293ZM10.553 20.686C10.2935 20.6868 10.0409 20.6024 9.83411\n\t\t\t\t\t\t20.4457C9.62727 20.2891 9.47758 20.0689 9.40796 19.819L4.57495 2.36401H1.18201C0.868521 2.36401\n\t\t\t\t\t\t0.567859 2.23947 0.346191 2.01781C0.124523 1.79614 0 1.49549 0 1.18201C0 0.868519 0.124523\n\t\t\t\t\t\t0.567873 0.346191 0.346205C0.567859 0.124537 0.868521 5.81268e-06 1.18201\n\t\t\t\t\t\t5.81268e-06H5.46301C5.7225 -0.00080736 5.97504 0.0837201 6.18176 0.240568C6.38848 0.397416\n\t\t\t\t\t\t6.53784 0.617884 6.60693 0.868006L11.4399 18.323H24.6179L29.001 8.27501H14.401C14.2428\n\t\t\t\t\t\t8.27961 14.0854 8.25242 13.9379 8.19507C13.7904 8.13771 13.6559 8.05134 13.5424 7.94108C13.4288\n\t\t\t\t\t\t7.83082 13.3386 7.69891 13.277 7.55315C13.2154 7.40739 13.1836 7.25075 13.1836 7.0925C13.1836\n\t\t\t\t\t\t6.93426 13.2154 6.77762 13.277 6.63186C13.3386 6.4861 13.4288 6.35419 13.5424 6.24393C13.6559\n\t\t\t\t\t\t6.13367 13.7904 6.0473 13.9379 5.98994C14.0854 5.93259 14.2428 5.90541 14.401\n\t\t\t\t\t\t5.91001H30.814C31.0097 5.90996 31.2022 5.95866 31.3744 6.05172C31.5465 6.14478 31.6928 6.27926\n\t\t\t\t\t\t31.7999 6.44301C31.9078 6.60729 31.9734 6.79569 31.9908 6.99145C32.0083 7.18721 31.9771\n\t\t\t\t\t\t7.38424 31.9 7.565L26.495 19.977C26.4026 20.1876 26.251 20.3668 26.0585 20.4927C25.866 20.6186\n\t\t\t\t\t\t25.641 20.6858 25.411 20.686H10.553Z\"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t\n\t\t\t<nav id=\"menu\" class=\"header__nav\">\n\t\t\t\t<button id=\"close-btn\" class=\"header__btn-close btn-close\" type=\"button\">\n\t\t\t\t\t<svg class=\"icon-close\" width=\"13\" height=\"13\" viewBox=\"0 0 13 13\">\n\t\t\t\t\t\t<path d=\"M7.4158 6.00409L11.7158 1.71409C11.9041 1.52579 12.0099 1.27039 12.0099 1.00409C12.0099\n\t\t\t\t\t0.73779 11.9041 0.482395 11.7158 0.294092C11.5275 0.105788 11.2721 0 11.0058 0C10.7395 0 10.4841\n\t\t\t\t\t0.105788 10.2958 0.294092L6.0058 4.59409L1.7158 0.294092C1.52749 0.105788 1.2721 -1.9841e-09 1.0058\n\t\t\t\t\t0C0.739497 1.9841e-09 0.484102 0.105788 0.295798 0.294092C0.107495 0.482395 0.0017066 0.73779\n\t\t\t\t\t0.0017066 1.00409C0.0017066 1.27039 0.107495 1.52579 0.295798 1.71409L4.5958 6.00409L0.295798\n\t\t\t\t\t10.2941C0.20207 10.3871 0.127676 10.4977 0.0769072 10.6195C0.0261385 10.7414 0 10.8721 0 11.0041C0\n\t\t\t\t\t11.1361 0.0261385 11.2668 0.0769072 11.3887C0.127676 11.5105 0.20207 11.6211 0.295798\n\t\t\t\t\t11.7141C0.388761 11.8078 0.499362 11.8822 0.621222 11.933C0.743081 11.9838 0.873786 12.0099 1.0058\n\t\t\t\t\t12.0099C1.13781 12.0099 1.26852 11.9838 1.39038 11.933C1.51223 11.8822 1.62284 11.8078 1.7158\n\t\t\t\t\t11.7141L6.0058 7.41409L10.2958 11.7141C10.3888 11.8078 10.4994 11.8822 10.6212 11.933C10.7431\n\t\t\t\t\t11.9838 10.8738 12.0099 11.0058 12.0099C11.1378 12.0099 11.2685 11.9838 11.3904 11.933C11.5122\n\t\t\t\t\t11.8822 11.6228 11.8078 11.7158 11.7141C11.8095 11.6211 11.8839 11.5105 11.9347 11.3887C11.9855\n\t\t\t\t\t11.2668 12.0116 11.1361 12.0116 11.0041C12.0116 10.8721 11.9855 10.7414 11.9347 10.6195C11.8839\n\t\t\t\t\t10.4977 11.8095 10.3871 11.7158 10.2941L7.4158 6.00409Z\"/>\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\t\t\t\t\n\t\t\t\t<h2 class=\"header__title\">menu</h2>\n\t\t\t\t<ul class=\"header__nav-list\">\n\t\t\t\t\t<li class=\"header__nav-item nav-sub-item\">\n\t\t\t\t\t\t<a href=\"#\" class=\"nav-sub-item__title link\">man</a>\n\t\t\t\t\t\t<ul class=\"nav-sub-item__list\">\n\t\t\t\t\t\t\t<li class=\"nav-sub-item__item\">\n\t\t\t\t\t\t\t\t<a href=\"#\" class=\"nav-sub-item__link link\">Accessories</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class=\"nav-sub-item__item\">\n\t\t\t\t\t\t\t\t<a href=\"#\" class=\"nav-sub-item__link link\">Bags</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class=\"nav-sub-item__item\">\n\t\t\t\t\t\t\t\t<a href=\"#\" class=\"nav-sub-item__link link\">Denim</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class=\"nav-sub-item__item\">\n\t\t\t\t\t\t\t\t<a href=\"#\" class=\"nav-sub-item__link link\">T-Shirts</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"header__nav-item nav-sub-item\">\n\t\t\t\t\t\t<a href=\"#\" class=\"nav-sub-item__title link\">woman</a>\n\t\t\t\t\t\t<ul class=\"nav-sub-item__list\">\n\t\t\t\t\t\t\t<li class=\"nav-sub-item__item\">\n\t\t\t\t\t\t\t\t<a href=\"#\" class=\"nav-sub-item__link link\">Accessories</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class=\"nav-sub-item__item\">\n\t\t\t\t\t\t\t\t<a href=\"#\" class=\"nav-sub-item__link link\">Jackets & Coats</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class=\"nav-sub-item__item\">\n\t\t\t\t\t\t\t\t<a href=\"#\" class=\"nav-sub-item__link link\">Polos</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class=\"nav-sub-item__item\">\n\t\t\t\t\t\t\t\t<a href=\"#\" class=\"nav-sub-item__link link\">T-Shirts</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class=\"nav-sub-item__item\">\n\t\t\t\t\t\t\t\t<a href=\"#\" class=\"nav-sub-item__link link\">Shirts</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"header__nav-item nav-sub-item\">\n\t\t\t\t\t\t<a href=\"#\" class=\"nav-sub-item__title link\">kids</a>\n\t\t\t\t\t\t<ul class=\"nav-sub-item__list\">\n\t\t\t\t\t\t\t<li class=\"nav-sub-item__item\">\n\t\t\t\t\t\t\t\t<a href=\"#\" class=\"nav-sub-item__link link\">Accessories</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class=\"nav-sub-item__item\">\n\t\t\t\t\t\t\t\t<a href=\"#\" class=\"nav-sub-item__link link\">Jackets & Coats</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class=\"nav-sub-item__item\">\n\t\t\t\t\t\t\t\t<a href=\"#\" class=\"nav-sub-item__link link\">Polos</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class=\"nav-sub-item__item\">\n\t\t\t\t\t\t\t\t<a href=\"#\" class=\"nav-sub-item__link link\">T-Shirts</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class=\"nav-sub-item__item\">\n\t\t\t\t\t\t\t\t<a href=\"#\" class=\"nav-sub-item__link link\">Shirts</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class=\"nav-sub-item__item\">\n\t\t\t\t\t\t\t\t<a href=\"#\" class=\"nav-sub-item__link link\">T-Bags</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</nav>\n\t\t</div>\n\t</header>\n\t<main>\n\t\t<section class=\"page-name\">\n\t\t\t<div class=\"container page-name__wrp\">\n\t\t\t\t<h2 class=\"page-name__title\">shopping cart</h2>\n\t\t\t</div>\n\t\t</section>\n\t\t<section class=\"shop\">\n\t\t\t<div class=\"container shop__wrp\">\n\t\t\t\t<div class=\"shop-cart\">\n\t\t\t\t\t<CartProducts :products=\"cart\" v-on:remove-count=\"removeCount\" v-on:add-count=\"addCount\" v-on:delete-item=\"deleteItem\"/>\n\t\t\t\t\t<div class=\"shop-cart__btns\">\n\t\t\t\t\t\t<button class=\"shop-cart__btn btn clear\" v-on:click=\"$root.clear\">clear shopping cart</button>\n\t\t\t\t\t\t<button class=\"shop-cart__btn btn\">continue shopping</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"shop-shipping\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3 class=\"shop-shipping__title\">shipping address</h3>\n\t\t\t\t\t\t<input type=\"text\" class=\"shop-shipping__input input\" required placeholder=\"Bangladesh\">\n\t\t\t\t\t\t<input type=\"text\" class=\"shop-shipping__input input\" required placeholder=\"State\">\n\t\t\t\t\t\t<input type=\"text\" class=\"shop-shipping__input input\" required placeholder=\"Postcode / Zip\">\n\t\t\t\t\t\t<button class=\"shop-shipping__btn btn\">get a quote</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"shop-total\">\n\t\t\t\t\t\t<p class=\"shop-total__text\">sub total\n\t\t\t\t\t\t\t<input class=\"shop-total__text-input\" type=\"text\" value=\"$900\" disabled></p>\n\t\t\t\t\t\t<h3 class=\"shop-total__title\">grand total\n\t\t\t\t\t\t\t<input id=\"grand_total\" class=\"shop-total__title-input\" type=\"text\" :value=\"cartPrice\" disabled>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<hr class=\"shop-total__line\">\n\t\t\t\t\t\t<button class=\"shop-total__btn btn\" v-on:click=\"render\">proceed to checkout</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</section>\n\t</main>\n</template>\n\n<script>\n\timport CartProducts from \"./CartProducts\";\n\t\n\texport default {\n\t\tname: \"ShoppingCart\",\n\t\tcomponents: {\n\t\t\tCartProducts\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tcartUrl: '/api/cart',\n\t\t\t\tcart: [],\n\t\t\t\tcartPrice: 0,\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tremoveCount(product) {\n\t\t\t\tthis.$root.putJson(`${this.$root.api + this.cartUrl + \"/\" + product.id_product}`, {quantity: -1})\n\t\t\t\t\t.then(data => {\n\t\t\t\t\t\tif(data.result === 1){\n\t\t\t\t\t\t\tif (product.quantity>0) {\n\t\t\t\t\t\t\t\tproduct.quantity--;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn product.quantity;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\tthis.totalPrice();\n\t\t\t},\n\t\t\taddCount(product) {\n\t\t\t\tthis.$root.putJson(`${this.$root.api + this.cartUrl + \"/\" + product.id_product}`, {quantity: 1})\n\t\t\t\t\t.then(data => {\n\t\t\t\t\t\tif(data.result === 1){\n\t\t\t\t\t\t\t\tproduct.quantity++;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\tthis.totalPrice();\n\t\t\t},\n\t\t\tdeleteItem(product) {\n\t\t\t\tthis.$root.deleteJson(`http://localhost:3000/api/cart/${product.id_product}`)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tthis.cart = this.cart.filter(item => item.id_product !== product.id_product)\n\t\t\t\t\t})\n\t\t\t\tthis.totalPrice();\n\t\t\t},\n\t\t\tclear() {\n\t\t\t\t// let collection = document.querySelectorAll('.shop-cart__item');\n\t\t\t\t// for (let elem of collection) {\n\t\t\t\t// \telem.remove();\n\t\t\t\t// }\n\t\t\t\t// this.cart = [];\n\t\t\t},\n\t\t\ttotalPrice() {\n\t\t\t\tlet sum = 0;\n\t\t\t\tthis.cart.map(product => {\n\t\t\t\t\treturn sum += product.price * product.quantity;\n\t\t\t\t});\n\t\t\t\tthis.cartPrice = sum;\n\t\t\t},\n\t\t},\n\t\tmounted() {\n\t\t\tthis.$root.getJson(`${this.$root.api + this.cartUrl}`)\n\t\t\t\t.then(data => {\n\t\t\t\t\tfor (let el of data.contents) {\n\t\t\t\t\t\tthis.cart.push(el);\n\t\t\t\t\t}\n\t\t\t\t\tthis.totalPrice();\n\t\t\t\t});\n\t\t}\n\t}\n</script>"]},"metadata":{},"sourceType":"module"}