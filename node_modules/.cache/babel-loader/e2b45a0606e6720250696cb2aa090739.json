{"ast":null,"code":"import ProductItem from \"./ProductItem\";\nexport default {\n  name: \"CatalogProducts\",\n  props: ['products'],\n  components: {\n    ProductItem\n  },\n\n  data() {\n    return {\n      cartUrl: '/api/cart',\n      cartItems: []\n    };\n  },\n\n  methods: {\n    addProduct(product) {\n      let find = this.cartItems.find(item => product.id_product === item.id_product);\n\n      if (find) {\n        // ${this.$root.api + this.cartUrl + \"/\" + find.id_product}\n        this.$root.putJson(`http://localhost:3000/api/cart/${find.id_product}`, {\n          quantity: 1\n        }).then(data => {\n          if (data.result === 1) {\n            find.quantity++;\n          }\n        });\n      } else {\n        const prod = Object.assign({\n          quantity: 1\n        }, product);\n      }\n    }\n\n  },\n\n  mounted() {\n    this.$root.getJson(`${this.$root.api + this.cartUrl}`).then(data => {\n      for (let item of data.contents) {\n        this.cartItems.push(item);\n      }\n\n      console.log(this.cartItems);\n    });\n  }\n\n};","map":{"version":3,"mappings":"AAOC,OAAOA,WAAP,MAAwB,eAAxB;AAEA,eAAe;EACdC,IAAI,EAAE,iBADQ;EAEdC,KAAK,EAAE,CAAC,UAAD,CAFO;EAGdC,UAAU,EAAE;IACXH;EADW,CAHE;;EAMdI,IAAI,GAAG;IACN,OAAO;MACNC,OAAO,EAAE,WADH;MAENC,SAAS,EAAE;IAFL,CAAP;EAIA,CAXa;;EAYdC,OAAO,EAAE;IACRC,UAAU,CAACC,OAAD,EAAU;MACnB,IAAIC,IAAG,GAAI,KAAKJ,SAAL,CAAeI,IAAf,CAAqBC,IAAG,IAAKF,OAAO,CAACG,UAAR,KAAuBD,IAAI,CAACC,UAAzD,CAAX;;MACA,IAAIF,IAAJ,EAAU;QACT;QACA,KAAKG,KAAL,CAAWC,OAAX,CAAoB,kCAAiCJ,IAAI,CAACE,UAAW,EAArE,EAAwE;UAACG,QAAQ,EAAE;QAAX,CAAxE,EACEC,IADF,CACOZ,IAAG,IAAK;UACb,IAAIA,IAAI,CAACa,MAAL,KAAgB,CAApB,EAAuB;YACtBP,IAAI,CAACK,QAAL;UACD;QACA,CALF;MAMD,CARA,MAQO;QACN,MAAMG,IAAG,GAAIC,MAAM,CAACC,MAAP,CAAc;UAACL,QAAQ,EAAE;QAAX,CAAd,EAA6BN,OAA7B,CAAb;MAED;IACD;;EAfQ,CAZK;;EA6BdY,OAAO,GAAG;IACT,KAAKR,KAAL,CAAWS,OAAX,CAAoB,GAAE,KAAKT,KAAL,CAAWU,GAAX,GAAiB,KAAKlB,OAAQ,EAApD,EACEW,IADF,CACOZ,IAAG,IAAK;MACb,KAAK,IAAIO,IAAT,IAAiBP,IAAI,CAACoB,QAAtB,EAAgC;QAC/B,KAAKlB,SAAL,CAAemB,IAAf,CAAoBd,IAApB;MACD;;MACAe,OAAO,CAACC,GAAR,CAAY,KAAKrB,SAAjB;IACA,CANF;EAOA;;AArCa,CAAf","names":["ProductItem","name","props","components","data","cartUrl","cartItems","methods","addProduct","product","find","item","id_product","$root","putJson","quantity","then","result","prod","Object","assign","mounted","getJson","api","contents","push","console","log"],"sourceRoot":"","sources":["C:\\Project\\Geekbrains\\prof-layout\\src\\components\\CatalogProducts.vue"],"sourcesContent":["<template>\r\n\t<div class=\"catalog__list\">\r\n\t\t<ProductItem class=\"catalog__item\" v-for=\"item of products\" :key=\"item.id_product\" :img=\"item.img\" :product=\"item\"/>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport ProductItem from \"./ProductItem\";\r\n\t\r\n\texport default {\r\n\t\tname: \"CatalogProducts\",\r\n\t\tprops: ['products'],\r\n\t\tcomponents: {\r\n\t\t\tProductItem,\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcartUrl: '/api/cart',\r\n\t\t\t\tcartItems: []\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\taddProduct(product) {\r\n\t\t\t\tlet find = this.cartItems.find((item => product.id_product === item.id_product))\r\n\t\t\t\tif (find) {\r\n\t\t\t\t\t// ${this.$root.api + this.cartUrl + \"/\" + find.id_product}\r\n\t\t\t\t\tthis.$root.putJson(`http://localhost:3000/api/cart/${find.id_product}`, {quantity: 1})\r\n\t\t\t\t\t\t.then(data => {\r\n\t\t\t\t\t\t\tif (data.result === 1) {\r\n\t\t\t\t\t\t\t\tfind.quantity++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst prod = Object.assign({quantity: 1}, product);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.$root.getJson(`${this.$root.api + this.cartUrl}`)\r\n\t\t\t\t.then(data => {\r\n\t\t\t\t\tfor (let item of data.contents) {\r\n\t\t\t\t\t\tthis.cartItems.push(item);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(this.cartItems)\r\n\t\t\t\t});\r\n\t\t},\r\n\t}\r\n</script>"]},"metadata":{},"sourceType":"module"}