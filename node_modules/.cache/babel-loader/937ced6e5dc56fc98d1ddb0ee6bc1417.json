{"ast":null,"code":"import AccessError from \"@/components/AccessError\";\nconst prod = {\n  id_product: 14,\n  product_name: \"Jacketer\",\n  price: 333,\n  img: \"http://localhost:3000/images/product-1.jpg\",\n  quantity: 200,\n  cartItems: []\n};\nexport default {\n  name: \"App\",\n  components: {\n    AccessError\n  },\n\n  data() {\n    return {\n      api: 'http://localhost:3000',\n      error: false\n    };\n  },\n\n  methods: {\n    getJson(url) {\n      return fetch(url).then(result => result.json()).catch(error => {\n        console.log(error);\n        this.error = true;\n      });\n    },\n\n    postJson(url, data) {\n      return fetch(url, {\n        method: 'POST',\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      }).then(result => result.json()).catch(error => {\n        console.log(`ошибка записи: ${error}`); // this.$refs.error.text = error;\n      });\n    },\n\n    putJson(url, data) {\n      return fetch(url, {\n        method: 'PUT',\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      }).then(result => result.json()).catch(error => {\n        console.log(`ошибка обновления: ${error}`); // this.$refs.error.text = error;\n      });\n    }\n\n  },\n\n  mounted() {\n    this.postJson('http://localhost:3000/api/cart', prod).then(data => {\n      console.log(data);\n\n      if (data.result === 1) {\n        this.cartItems.push(prod);\n      } else {\n        this.cartItems.push(prod);\n      }\n    });\n    console.log(this.cartItems);\n  }\n\n};","map":{"version":3,"mappings":"AAWC,OAAOA,WAAP,MAAwB,0BAAxB;AAEA,MAAMC,IAAG,GAAI;EACZC,UAAU,EAAE,EADA;EAEZC,YAAY,EAAE,UAFF;EAGZC,KAAK,EAAE,GAHK;EAIZC,GAAG,EAAE,4CAJO;EAKZC,QAAQ,EAAE,GALE;EAMZC,SAAS,EAAE;AANC,CAAb;AASA,eAAe;EACdC,IAAI,EAAE,KADQ;EAEdC,UAAU,EAAE;IACXT;EADW,CAFE;;EAKdU,IAAI,GAAG;IACN,OAAO;MACNC,GAAG,EAAE,uBADC;MAENC,KAAK,EAAE;IAFD,CAAP;EAIA,CAVa;;EAWdC,OAAO,EAAE;IACRC,OAAO,CAACC,GAAD,EAAM;MACZ,OAAOC,KAAK,CAACD,GAAD,CAAL,CACLE,IADK,CACAC,MAAK,IAAKA,MAAM,CAACC,IAAP,EADV,EAELC,KAFK,CAECR,KAAI,IAAK;QACfS,OAAO,CAACC,GAAR,CAAYV,KAAZ;QACA,KAAKA,KAAL,GAAa,IAAb;MACA,CALK,CAAP;IAMA,CARO;;IASRW,QAAQ,CAACR,GAAD,EAAML,IAAN,EAAW;MAClB,OAAOM,KAAK,CAACD,GAAD,EAAM;QACjBS,MAAM,EAAE,MADS;QAEjBC,OAAO,EAAE;UACR,gBAAgB;QADR,CAFQ;QAKjBC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAelB,IAAf;MALW,CAAN,CAAL,CAOLO,IAPK,CAOAC,MAAK,IAAKA,MAAM,CAACC,IAAP,EAPV,EAQLC,KARK,CAQCR,KAAI,IAAK;QACfS,OAAO,CAACC,GAAR,CAAa,kBAAiBV,KAAM,EAApC,EADe,CAEf;MACA,CAXK,CAAP;IAYA,CAtBO;;IAuBRiB,OAAO,CAACd,GAAD,EAAML,IAAN,EAAW;MACjB,OAAOM,KAAK,CAACD,GAAD,EAAM;QACjBS,MAAM,EAAE,KADS;QAEjBC,OAAO,EAAE;UACR,gBAAgB;QADR,CAFQ;QAKjBC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAelB,IAAf;MALW,CAAN,CAAL,CAOLO,IAPK,CAOAC,MAAK,IAAKA,MAAM,CAACC,IAAP,EAPV,EAQLC,KARK,CAQCR,KAAI,IAAK;QACfS,OAAO,CAACC,GAAR,CAAa,sBAAqBV,KAAM,EAAxC,EADe,CAEf;MACA,CAXK,CAAP;IAYA;;EApCO,CAXK;;EAiDdkB,OAAO,GAAG;IACT,KAAKP,QAAL,CAAc,gCAAd,EAAgDtB,IAAhD,EACEgB,IADF,CACQP,IAAD,IAAU;MACfW,OAAO,CAACC,GAAR,CAAYZ,IAAZ;;MACA,IAAIA,IAAI,CAACQ,MAAL,KAAgB,CAApB,EAAuB;QACtB,KAAKX,SAAL,CAAewB,IAAf,CAAoB9B,IAApB;MACD,CAFA,MAEO;QACN,KAAKM,SAAL,CAAewB,IAAf,CAAoB9B,IAApB;MACD;IACA,CARF;IASAoB,OAAO,CAACC,GAAR,CAAY,KAAKf,SAAjB;EACA;;AA5Da,CAAf","names":["AccessError","prod","id_product","product_name","price","img","quantity","cartItems","name","components","data","api","error","methods","getJson","url","fetch","then","result","json","catch","console","log","postJson","method","headers","body","JSON","stringify","putJson","mounted","push"],"sourceRoot":"","sources":["C:\\Project\\Geekbrains\\prof-layout\\src\\App.vue"],"sourcesContent":["<template>\r\n\t<div v-if=\"error\">\r\n\t\t<AccessError/>\r\n\t</div>\r\n\t<div v-else>\r\n\t\t<router-view/>\r\n\t</div>\r\n</template>\r\n\t\r\n\r\n<script>\r\n\timport AccessError from \"@/components/AccessError\";\r\n\t\r\n\tconst prod = {\r\n\t\tid_product: 14,\r\n\t\tproduct_name: \"Jacketer\",\r\n\t\tprice: 333,\r\n\t\timg: \"http://localhost:3000/images/product-1.jpg\",\r\n\t\tquantity: 200,\r\n\t\tcartItems: []\r\n\t}\r\n\t\r\n\texport default {\r\n\t\tname: \"App\",\r\n\t\tcomponents: {\r\n\t\t\tAccessError\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tapi: 'http://localhost:3000',\r\n\t\t\t\terror: false,\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetJson(url) {\r\n\t\t\t\treturn fetch(url)\r\n\t\t\t\t\t.then(result => result.json())\r\n\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\tthis.error = true;\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tpostJson(url, data){\r\n\t\t\t\treturn fetch(url, {\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbody: JSON.stringify(data)\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(result => result.json())\r\n\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\tconsole.log(`ошибка записи: ${error}`);\r\n\t\t\t\t\t\t// this.$refs.error.text = error;\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tputJson(url, data){\r\n\t\t\t\treturn fetch(url, {\r\n\t\t\t\t\tmethod: 'PUT',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbody: JSON.stringify(data)\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(result => result.json())\r\n\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\tconsole.log(`ошибка обновления: ${error}`);\r\n\t\t\t\t\t\t// this.$refs.error.text = error;\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.postJson('http://localhost:3000/api/cart', prod)\r\n\t\t\t\t.then((data) => {\r\n\t\t\t\t\tconsole.log(data)\r\n\t\t\t\t\tif (data.result === 1) {\r\n\t\t\t\t\t\tthis.cartItems.push(prod)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.cartItems.push(prod)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\tconsole.log(this.cartItems)\r\n\t\t},\r\n\t}\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}